# Item 26. raw type은 사용하지 마라

클래스와 인터페이스 선업에 타입 매개변수를 쓰는 경우 제네릭 클래스 또는 제네릭 인터페이스라 한다. 이를 통틀어 제네릭 타입이라 한다.

각각의 제네릭 타입은 매개변수화 타입이라 하는데, 꺾쇠괄호 안에 실제 타입 매개변수를 나열한다.

`List<E>` 의 E는 매개변수화 타입을 뜻하고, `List<String>` 에서 String은 실제 타입 매개변수이다.

제네릭 타입을 하나 정리하면 그에 딸린 raw type도 함께 정의된다. raw type은 제네릭에서 타입 매개변수를 사용하지 않을때를 말한다. 예들들어 `List<E>` 의 raw type은 List이다.

raw type은 제네릭 이전 코드와 호환하기 위해 남겨두었는데, 좋은 사용 방법은 아니다.

### 왜 raw type 사용은 안좋은가?

→ 선언한 타입과 다른 엉뚱한 타입을 사용해도 컴파일러가 잡지 못한다. → 런타임 에러와 직결됨

제네릭을 사용하면 걱정 없이 사용해도 런타임 도중에 타입 오류는 일어나지 않을 것이다.

따라서 raw type을 쓰는 순간 제네릭에 대한 장점은 모두 사라질 것이고, 컴파일러가 잡지 못하는 위험만 생기게 된다.

그렇다면 List<Object>는 raw type과 다를게 없지 않을까?

→ 그렇지 않다. 모든 클래스를 명시적으로 풀어쓴 것이여서 다르다.

제네릭엔 하위타입 규칙이 있는데, List<E>는 List 의 하위 타입이다. `List<Object>`와 `List<String>`은 하위 타입이 아니다.

### 와일드 카드

<?> 는 모든 타입을 담을 수 있는 매개변수화 타입이다. List<?>와 List의 차이는 무엇일까?

차이는 안정성에 있다. <?>을 사용하면 어떤 원소도 넣을 수 없어 오류를 반환하게 된다.

### 예외

- instanceof 연산자에선 raw type이든 와일드 카드든 똑같이 동작한다.
- class 리터럴은 raw type만 사용해야 한다. (List.class)

### 용어

![image](https://github.com/4k-study/book-effective-java/assets/85796588/7f938bb5-4c5f-4090-96a0-41c4de097904)

### 마무리

제네릭을 통해 코드가 한층 유연하게 사용되고 있다. 어떤 것을 사용하든 잘 알고 써야하는데, raw type 같이 잠재적 에러를 품고있는 코드는 애플리케이션이 커질수록 경계해야 한다.

“런타임에서 문제를 겪는 코드와 원인을 제공한 코드가 물리적으로 상당히 떨어져 있을 가능성이 커진다.” 

이 문장을 읽으며, 디버깅과 코드 가독성 그리고 위험 요소를 최소화 하는 것이 중요하다는 것을 느끼고 있다. 최근 회사 코드를 보며 Map을 쓰거나 메서드가 너무 많은 역할을 하는 경우, 적절하지 않은 변수명등 코드를 해석하는데 시간이 오래걸리는 부분이 있다. 디버깅 하기도 어렵지만 이런 부분에서 생기는 NPE같은 문제도 간간히 일어난다.
