# Item 24. 멤버 클래스는 되도록 static으로 만들라

## 개요

중첩 클래스는 다른 클래스 안에서 정의된 클래스를 의미한다. 자신의 바깥 클래스에서만 사용되어야 한다. 그렇지 않으면 별도의 클래스로 만드는 것이 좋다. 중첩 클래스의 종류로는 정적 멤버 클래스, 비정적 멤버 클래스, 익명 클래스, 지역 클래스가 있다.

## 정적 멤버 클래스

- 클래스 안에서 선언되고, 바깥 클래스의 private 멤버에 접근 가능하단 점 외에는 일반 클래스와 동일하다
- 주로 바깥 클래스의 public 도우미 클래스로 사용된다

## 비정적 멤버 클래스

- 바깥 클래스의 인스턴스와 연결된다. 즉, 바깥 클래스 인스턴스 생성 없이는 생성될 수 없고, 바깥 클래스의 참조를 가져 접근할 수 있다.
    - 참조를 저장하는데 추가적인 시간과 공간이 소요된다
    - 바깥 클래스를 참조하여 바깥 클래스가 GC 에 의해 수거되지 않을 수 있다
- 바깥 클래스의 참조가 필요한 것이 아니라면 정적 멤버 클래스를 사용해야한다.
- 어댑터 방식으로 자주 사용된다
    - ex) Map 의 keySet 과 같은 메서드를 구현할 때 내부 private 비정적 메서드를 활용한다.
    

## 익명 클래스

- 쓰이는 시점에 선언과 초기화가 이루어진다
- 비정적인 문맥에서 사용될 때만 바깥 클래스의 인스턴스를 참조할 수 있다
- 정적 문맥에서라도 상수(final 기본 타입, String) 이외의 정적 멤버는 가질 수 없다
- 한 메서드 내에서만 쓰이고 인스턴스 생성 지점도 한 곳이며, 해당 타입으로 사용하기 적절한 클래스나 인터페이스가 이미 있다면 사용한다

## 지역 클래스

- 지역 변수를 선언할 수 있는 곳에서는 다 사용 가능하다
- 비정적 문맥에서만 바깥 인스턴스를 참조 가능하고, 정적 멤버는 가질 수 없다

## 내 생각 정리

- record 는 중첩될 시 묵시적으로 static 이다
