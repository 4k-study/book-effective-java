# Item 24. 멤버 클래스는 되도록 static으로 만들라

클래스 내에 클래스를 만드는 방법은 4가지 있다. 이를 중첩 클래스라 하며, 중첩 클래스는 자신의 바깥 클래스에서 만 사용해야 하고, 다른 곳에서 쓰이면 톱 클래스로 만들어야 한다.

### 정적 멤버 클래스

다른 정적 멤버와 똑같이 사용되는데, 주로 바깥 클래스의 도우미로 쓰인다.

일반 멤버 클래스와 static 키워드 하나 차이지만, 외부 클래스의 인스턴스와 연결되기 때문에 의미상 차이가 크다.

private 정적 멤버 클래스는 바깥 클래스가 표현하는 객체의 한 부분을 표현할 때 사용한다. (Map)

멤버 클래스의 접근제어자가 protected나 public이면 하위 호환성 때문에 더욱 static의 중요성은 강해진다.

### 멤버 클래스 (inner class)

주로 바깥 클래스의 인스턴스.new Class 로 선언된다.

이 관계는 멤버 클래스의 인스턴스 안에 만들어져 **메모리 공간을 차지할 뿐더러 생성 시간**이 더 걸린다.

보통 어댑터로 쓰는데, 한 클래스의 인스턴스를 감싸 다른 클래스의 인스턴스로 보이게 한다. (Set, List)

### 익명 클래스 (inner class)

이름이 없고, 바깥 클래스의 멤버 또한 아니다.

쓰이는 시점에 선언과 동시에 인스턴스가 만들어지기 때문에 비정적 문맥에서 사용될 때 바깥 인스턴스를 참조할 수 있다.

정적 문맥이라도 상수 외에 정적 멤버를 가질 수 없다. (final 기본 타입 및 문자열)

선언한 지점 외에 인스턴스를 만들 수 없고, 이름이 없어 이름 관련 메서드를 사용할 수 없다.

여러 인터페이스를 구현할 수 없고 동시에 다른 클래스를 상속 할 수 없다. 그리고 상위 타입 외에는 호출할 수 없다.

람다가 지원하기 전엔 작은 함수나 처리 객체를 처리하는데 사용되었지만, 람다가 모든걸 대체한다.

### 지역 클래스 (inner class)

가장 드물게 사용되며, 어디서든 선언할 수 있고 지역 변수와 쓰임이 같다.

비정적 문맥에서만 바깥 인스턴스를 참조할 수 있고, 정적 멤버는 가질 수 없으며 짧게 작성해야 한다.

### 마무리

멤버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 사용해 메모리와 시간을 아끼자.

static을 사용하지 않는 경우 참조를 하게 되어 gc가 수거하지 못한다.
