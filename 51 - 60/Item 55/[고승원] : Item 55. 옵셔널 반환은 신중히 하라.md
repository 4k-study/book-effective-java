# Item 55. 옵셔널 반환은 신중히 하라

옵셔널 : 원소를 최대 1개 가질 수 있는 불변 컬렉션 (빈 값도 가능)

옵셔널을 반환하는 메서드에선 절대 null을 반환하지 말자 → `Optional.empty()` 사용

### Optional의 장점

- 기본값을 정해둘 수 있다.
- 원하는 예외를 던질 수 있다.
- 항상 값이 채워져 있다고 가정한다.
    - 기본값 설정 비용이 커서 부담일 때 orElseGet 사용 가능
    - filter, map, flatMap, ifPresent등 활용 메서드 많음
- stream 사용 가능

### 신중해야 하는 이유

- 컬렉션, 스트림, 배열등 컨테이너 타입은 옵셔널로 감싸며 안된다.
    - Optinal<List<String>>보다 비어있는 List<String>를 반환하자.
- 성능이 중요한 경우
    - 객체를 생성하고, Optional을 벗겨내기 위한 메서드가 추가되기 때문이다.
    - primitive타입에 대한 Optional 전용 클래스도 있으니 사용해도 좋다.
- Map의 키, 값, 배열의 원소로 사용하는데 복잡해져서 적절하지 않다.

### Optional을 사용해야 할 때

- 결과가 없을 수 있을 때
- 클라이언트가 상황을 특별히 처리해야 할 때
