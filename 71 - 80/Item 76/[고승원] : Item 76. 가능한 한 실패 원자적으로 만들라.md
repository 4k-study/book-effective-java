# Item 76. 가능한 한 실패 원자적으로 만들라

**호출된 메서드가 실패하더라도 해당 객체는 메서드 호출 전 상태를 유지해야 한다.**

→ 이를 실패 원자적이라고 한다.

### 실패 원자적 객체 만드는 법

- 불변 객체로 만든다.
- 가변 객체인 경우 유효성 검사를 한다. (미리 값을 검증하고 실패한다)
- 객체의 임시 복사본에서 작업을 수행 한 뒤, 성공하면 원래 객체와 교체한다. (임시 자료구조에 저장하는게 더 빠를 때)
- 작업 도중 발생하는 실패를 가로채서 복구하는 코드를 작성한다.

### 마무리

실패 원자성은 권장되지만, 항상 할 수 있지 않다.

문제의 원인을 파악하다보면, 자연스레 실패 원자성을 얻게될 수 있다. API 문서화를 철저히 하라.
