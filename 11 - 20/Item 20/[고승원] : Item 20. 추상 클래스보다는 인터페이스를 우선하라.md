# Item 20. 추상 클래스보다는 인터페이스를 우선하라

자바 8 부터 인터페이스는 디폴트 메서드를 제공할 수 있다. 이는 인터페이스의 활용도를 더욱 범용적으로 만들었다.

추상 클래스는 구현 하려면 반드시 하위 클래스가 되어야 한다. 반면에 인터페이스는 자유로운편이다.

기존 클래스에 새로운 메서드를 추가할 때 어떤게 더 편리할까? (mixin도 동일하게 적용된다.)

- 인터페이스 : 새로운 인터페이스를 선언하고 implements 구문을 추가한다.
- 추상 클래스 : 두 클래스의 공통 조상 클래스를 만들어 확장한다.

* mixin : 클래스가 구현할 수 있는 타입으로 특정 행위를 제공한다고 선언하는 것 (Comparable 등등)

인터페이스로 mixin하면 계층구조가 없는 프레임 워크를 만들 수 있다. → 유연한 설계 및 구현이 가능하다.

추상 클래스로 mixin하면 계층 구조가 지수배로 늘어난다.

인터페이스의 명백한 구현은 디폴트 메서드로 제공해 구현을 강제하지 않을 수 있다. (디폴트 메서드의 주의점은 다음장에 나온다.)

### 템플릿 메서드

인터페이스가 항상 옳은 것도, 추상 클래스가 항상 틀린 것도 아니다. 이 둘의 장점을 잘 조합해서 사용하는 방법도 있다. 이를 [템플릿 메서드](https://johngrib.github.io/wiki/pattern/template-method/)라고 한다.

컴포지션과 함께 사용하면 다중 상속의 장점을 가져오며 단점을 없에준다.

**장점**

- 추상 클래스처럼 구현을 도우지만, 단점인 제약이 사라진다.
- 골격 구현을 확장하지 못하는 경우 인터페이스를 사용하면 된다.

**만드는 법**

- 인터페이스 이름이 Interface라면, 추상 클래스는 AbstractInterface로 짓는다.
- 인터페이스로 타입을 정의 하고 필요한 디폴트 메서드를 제공한다.
- 추상 클래스로 인터페이스 메서드를 구현한다.

### 단순 구현

골격 구현과 같이 상속을 위해 인터페이스를 구현하지만, 추상 클래스가 아닌 경우

### 정리

- 추상 클래스는 구현 하려면 반드시 하위 클래스가 되어야 한다. 반면에 인터페이스는 자유로운편이다.
- 인터페이스는 mixin 정의에 fit하지만, 추상 클래스는 정의할 수 없다.
위와 같은이유로 다중 구현에는 인터페이스가 매우 적합하다. 하지만 복잡함을 해결할 수 있는 골격 구현도 고려하자.
- 추상/골격 구현 클래스는 문서화가 굉장히 중요하다.
