# Item 15. 클래스 멤버의 접근 권한을 최소화 하라

좋은 설계란 클래스를 잘 **캡슐화**했냐를 뜻한다.

### 캡슐화를 잘했다는 뜻

- 클래스 내부 데이터와 내부 구현 정보를 외부로부터 잘 숨긴다.
- 내부 구현을 숨기고 API를 통해서만 다른 컴포넌트와 소통한다.

### 캡슐화의 장점

컴포넌트를 독립시켜 개발,테스트,최적화등의 작업을 개별적으로 할 수 있다.
(=개발 속도/난이도, 유지보수, 재사용성등 장점)

### 접근제한자

- private - 멤버를 선언한 톱레벨 클래스에서만 접근할 수 있다.
- package-private - 멤버가 소속된 패키지 안의 모든 클래스에서 접근할 수 있다. (deafult)
- protected - package-private + 현재 클래스의 하위 클래스에서도 접근할 수 있다.
- public - 모든 곳에서 접근 가능

### 캡슐화에서 접근제한자

- 접근 제한자를 제대로 사용하자.
클래스와 멤버의 접근성을 가능한 한 좁혀 사용하자. (ex. 클래스 내부에서만 사용한다면 private을 부여하는게 자연스럽다.)
- 왠만하면 테스트를 위해 접근제한자를 풀어주지 말자.
- public 클래스의 필드는 되도록 public이 아니어야 한다.
    - 불변을 보장할 수 없기 때문
    - 꼭 필요한 경우는 static final을 붙여 상수화 하자
    - static final 키워드가 붙어있어도 배열과 같은 객체는 수정이 가능하니 유의하자
- 모듈을 사용할 때 public 클래스의 public/protected 멤버는 다른 모듈에서 접근할 수 없어진다.
    - jar파일을 모듈 경로가 아닌 classpath에 두게 되면 public 클래스의 public/protected 멤버는 다른 모듈에서 접근할 수 있다.

### 모듈?

- 패키지들을 모듈 단위로 묶는다.
- 모듈 선언에 패키지들의 모든 의존성을 명시한다.
- 소스트리를 재배치하고 모듈 안으로부터 일반 패키지로의 접근에 대한 조치를 한다.

### 마무리

지금까지 접근제한자를 public아니면 private만 사용해왔는데 이 부분에 대한 생각을 하지 않았던 것 같다. deafult와 protected 접근제한자를 사용한 경험을 공유해보면 좋을 것 같다.

중간에 배열의 불변성에 대한 얘기가 있는데, 다른 자료구조도 같을텐데 언급이 없어서 짚고넘어가면 좋을듯 하다.

모듈을 사용해보지 않아서 대부분 공감이 안되고 읽기만 했다. 현재 회사 백오피스가 모듈로 되어있는데 온보딩이 끝나고 한번 더 읽어봐야겠다.
