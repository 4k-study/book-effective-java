# Item 47. 반환 타입으로 스트림보다 컬렉션이 낫다.

원소의 시퀀스를 반환하는 메서드는 자바에서 스트림이 아니어도 수도없이 많다.

* 원소의 시퀀스 : 일련의 원소를 반환하는 메서드

보통 컬렉션 인터페이스나, 배열, Iterable을 반환했는데, 스트림도 시퀀스를 반환한다.

하지만, 스트림보단 컬렉션을 반환하는 방법이 더 좋다.

### 왜?

먼저 스트림은 Iterable 인터페이스의 명세를 모두 포함하고, 작동 방식도 같다. (extends한건 아님)

스트림 파이프 라인 내에서 스트림이 더 우수하다. 하지만, Iterable은 for-each가 가능하고, 스트림은 불가능 하다.

지금까지의 결론은 스트림 파이프라인만 사용하면 스트림이, 반복문이 있을땐 스트림보단 Iterable이 더 좋다로 보인다. 그럼 상황에 맞게 적절하게 변환해서 반환하면 되지 않을까?

코드는 사용자가 어떻게 사용할지 모른다. 둘 다 사용할 수도 있다.

그래서 Iterable의 하위이자, 스트림 메서드도 지원하는 Collection 타입을 반환하는 것이 **유연**하다.

### 주의점

컬렉션을 반환할 때 덩치 큰 시퀀스를 메모리에 올리면 안된다.

→ 전용 컬렉션을 구현하는 방법도 있다. (Abstract Collection 활용, contains, size 구현)

### 마무리

- 스트림과 Iterable은 용도가 다름.
- 상황에 맞게 반환하기 어려우니 유연히 대처 가능한 컬렉션을 반환하자
- 큰 시퀀스가 메모리에 올라가는걸 방지하기 위해 전용 컬렉션을 만드는 방법 고려
