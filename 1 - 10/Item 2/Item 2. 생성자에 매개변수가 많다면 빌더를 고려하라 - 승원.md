# Item 2. 생성자에 매개변수가 많다면 빌더를 고려하라

정적 팰터리와 생성자는 선택적 매개변수가 많을 때 적절히 대응하기 어렵다.

### 점층적 생성자 패턴

개발자들은 이때 점층적 생성자 패턴을 즐겨 사용했다.

매개변수로 들어오지 않은 필드는 0 또는 null로 다른 생성자를 호출하는 방법이다. 이 방법은 매개변수가 많아지면 코드가 많아지고 가독성이 떨어지고, 개발자의 실수를 야기한다.

### Setter

다음으로 제안된 방법이 필드에 기본값으로 초기화 하고 setter를 통해 주입하는 방법이다. 점층적 생성자 패턴의 단점은 커버되지만, 객체의 일관성이 깨지고, 불변 필드를 만들 수 없다.

이러한 단점을 완화하고자 생성이 끝난 객체를 freeze하는 방법이 있지만, 추천되지 않는다.

### Builder

위 방법의 장점만 가져온 방법이 빌더패턴이다. 필요한 필드만 세팅하고 객체를 생성하는 방법이다.

이 방법은 쓰기 쉽고 무엇보다 가독성이 좋다. 

빌더 패턴은 계층적으로 설계된 클래스와 함께 쓰기 좋다.

예를들어 Hamberger클래스가 있고 이를 상속하는 MeetHamberger와 VegeHamberger가 있는 경우 하위 클래스에서 정의한 build 메서드에 의해 구체적인 하위 클래스를 반환할 수 있다.

빌더 패턴은 항상 좋을까? 그렇지 않다. 객체를 생성하기 위해 빌더부터 생성해야하는 단점과 생성자 패턴에 비해서 코드량이 많아지는 단점이 있다. 

### 정말 빌더가 좋은가?

빌더의 장점은 유연성과 가독성인데 지금까지 개발을 하면서 유연한 생성이 필요한 객체가 그렇게 많지 않았다.

또한 필드에 null이 들어가는 객체는 엔티티의 id를 제외하고 있지 않았기에 빌더 패턴의 장점인 유연성은 오히려 실수를 낳을 여지라고 생각했다.

![image](https://velog.velcdn.com/images/goseungwon/post/893d0658-b3dd-4809-8c54-0081ee0fc6fa/image.png)

또한 IDE 에서 매개변수로 어떤게 들어가는지 모두 알려주기 때문에 생성자를 사용하며 불편함은 없었다.
