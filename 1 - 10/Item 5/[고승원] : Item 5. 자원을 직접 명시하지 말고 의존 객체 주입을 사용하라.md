# Item 5. 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라

클래스간 의존할 때 여러가지 방법으로 의존성을 부여할 수 있다.

```java
public class ClassA {
	//정적 유틸리티
	private static final ClassB classB = ...;
	//싱글턴
	private final ClassB classB = ...;
}
```

이 방법들은 ClassB가 한가지가 아닌 여러가지 자식 객체로 대체되는 경우 대응할 수 없다.

이미 많이 사용되고 있는 방식인 DI를 사용해 인스턴스를 생성할 때 생성자에 필요한 자원을 넘겨주는 방식을 사용하면 해결된다.

유연함 뿐만 아니라 “객체지향”에도 부합하다. 해당 클래스는 어떤 객체가 주입되던지 자신의 “역할”만 수행하면 되고, 의존성은 외부에서 만들어주니 각자의 역할에만 충실한셈이다.

이 방식 외에도 아이템4에서 다룬 정적 팩토리 메소드를 Supplier로 만들어 사용하기도 가능하다. 

```java
ClassA create(Supplier<? extends ClassB> classBFactory) {...}
```

의존 객체 주입을 사용하면 테스트 용이성과 유연성을 가질 수 있지만, 의존성이 너무 많아지는 경우 코드가 어지러워지질 수 있다.

### 마무리

의존성 주입 방법은 이미 프레임워크에서 제공하고 있으니 모두가 자연스레 사용하고 있지 않을까 생각이 든다. 찾아보니 Supplier 방법은 순수 자바에서 의존성을 다룰 때 좋다고 하지만, 언제까지나 프레임워크가 없는 경우에만 해당하기 때문에 써볼일이 있을까 싶다.
